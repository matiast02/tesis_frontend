<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Proyecto de Grado - Terradas, Matias</title>

<!-- Global stylesheets -->
<link href="https://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700,900" rel="stylesheet" type="text/css">
<link href="assets/css/icons/icomoon/styles.css" rel="stylesheet" type="text/css">
<link href="assets/css/icons/fontawesome/styles.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/bootstrap.css" rel="stylesheet" type="text/css">
<link href="assets/css/core.css" rel="stylesheet" type="text/css">
<link href="assets/css/components.css" rel="stylesheet" type="text/css">
<link href="assets/css/colors.css" rel="stylesheet" type="text/css">
<!-- /global stylesheets -->
<!-- Core JS files -->
<script type="text/javascript" src="assets/js/core/libraries/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/core/libraries/bootstrap.min.js"></script>
<!-- /core JS files -->

<!-- Theme JS files -->
<script type="text/javascript" src="assets/js/core/app.js"></script>
<script type="text/javascript" src="assets/js/plugins/notifications/sweet_alert.min.js"></script>
<script type="text/javascript" src="assets/js/plugins/velocity/velocity.min.js"></script>
<script type="text/javascript" src="assets/js/plugins/velocity/velocity.ui.min.js"></script>
<script type="text/javascript" src="assets/js/plugins/tables/datatables/datatables.min.js"></script>

<script type="text/javascript" src="assets/js/plugins/ui/ripple.min.js"></script>
<!-- /theme JS files -->

</head>
<body>

<!-- Main navbar -->
<div class="navbar navbar-default header-highlight bg-green-400" id="main-navbar"></div>
<!-- /main navbar -->


<!-- Page container -->
<div class="page-container">

    <!-- Page content -->
    <div class="page-content">

        <!-- Main sidebar -->
        <div class="sidebar sidebar-main" id="main-sidebar"></div>
        <!-- /main sidebar -->


        <!-- Main content -->
        <div class="content-wrapper">

            <!-- Page header -->
            <div class="page-header">
                <div class="page-header-content">
                    <div class="page-title">
                        <h4><i class="icon-arrow-left52 position-left"></i> <span class="text-semibold">Lista</span> - Nodos</h4>
                    </div>
                </div>
            </div>
            <!-- /page header -->


            <!-- Content area -->
            <div class="content">
                <div class="row">
                    <div class="panel panel-white">
                        <div class="panel-heading">
                            <h6 class="panel-title">Nodos<a class="heading-elements-toggle"><i class="icon-more"></i></a></h6>
                            <div class="heading-elements">
                                <ul class="icons-list">
                                    <li><a data-action="collapse"></a></li>
                                    <li><a data-action="reload"></a></li>
                                    <li><a data-action="close"></a></li>
                                </ul>
                            </div>
                        </div>

                        <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper no-footer"><div class="datatable-header"><div id="DataTables_Table_0_filter" class="dataTables_filter"><label><span>Filtrar:</span> <input type="search" class="" placeholder="filtrar"..." aria-controls="DataTables_Table_0"></label></div><div class="dataTables_length" id="DataTables_Table_0_length"><label><span>Show:</span> <select name="DataTables_Table_0_length" aria-controls="DataTables_Table_0" class="select2-hidden-accessible" tabindex="-1" aria-hidden="true"><option value="15">15</option><option value="25">25</option><option value="50">50</option><option value="75">75</option><option value="100">100</option></select><span class="select2 select2-container select2-container--default" dir="ltr" style="width: auto;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-labelledby="select2-DataTables_Table_0_length-mi-container"><span class="select2-selection__rendered" id="select2-DataTables_Table_0_length-mi-container" title="25">25</span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span></label></div></div><div class="datatable-scroll-lg"><table class="table tasks-list table-lg dataTable no-footer" id="DataTables_Table_0" role="grid" aria-describedby="DataTables_Table_0_info">
                            <thead>
                            <tr role="row"><th class="sorting_desc" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 20px;" aria-sort="descending" aria-label="#: activate to sort column ascending">#</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 40%;" aria-label="Task Description: activate to sort column ascending">Nombre</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 10%;" aria-label="Priority: activate to sort column ascending">Latitud</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 15%;" aria-label="Latest update: activate to sort column ascending">Longitud</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 15%;" aria-label="Status: activate to sort column ascending">GW ID</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 15%;" aria-label="Assigned users: activate to sort column ascending">Ultima Modificación</th><th class="text-center text-muted sorting_disabled" style="width: 100px;" rowspan="1" colspan="1" aria-label=""><i class="icon-checkmark3"></i></th></tr>
                            </thead>
                            <tbody id="table-body">

                            </tbody>
                        </table></div><div class="datatable-footer"><div class="dataTables_info" id="DataTables_Table_0_info" role="status" aria-live="polite">Showing 1 to 25 of 25 entries</div><div class="dataTables_paginate paging_simple_numbers" id="DataTables_Table_0_paginate"><a class="paginate_button previous disabled" aria-controls="DataTables_Table_0" data-dt-idx="0" tabindex="0" id="DataTables_Table_0_previous">←</a><span><a class="paginate_button current" aria-controls="DataTables_Table_0" data-dt-idx="1" tabindex="0">1</a></span><a class="paginate_button next disabled" aria-controls="DataTables_Table_0" data-dt-idx="2" tabindex="0" id="DataTables_Table_0_next">→</a></div></div></div>
                    </div>
                </div>



                <!-- Footer -->
                <div class="footer text-muted">

                </div>
                <!-- /footer -->

            </div>
            <!-- /content area -->

        </div>
        <!-- /main content -->

    </div>
    <!-- /page content -->

</div>
<!-- /page container -->
<script src="assets/js/scripts.js" type="text/javascript"></script>
<script>
    $.ajax({
  url: "http://localhost/tesis_api/public/nodos/datatables?api_token=" + localStorage.api_token,
  type: "GET",
  success: function(data) {
    console.log(data);
    $.each(data, function(i, nodo) {
      $("#table-body").append(
        '<tr role="row" class="odd">\n' +
          '                                <td class="sorting_1">' +
          nodo.id +
          "</td>\n" +
          "\n" +
          "                                <td>\n" +
          '                                    <div class="text-semibold" id="nodo_name"><a href="http://localhost/tesis_frontend/nodo.html?id="' +
          nodo.id +
          ">" +
          nodo.nombre +
          "</a></div>\n" +
          "                                </td>\n" +
          "                                <td>" +
          nodo.lat +
          "                                </td>\n" +
          "                                <td>" +
          nodo.long +
          "                                </td>\n" +
          "                                <td>" +
          nodo.gw_id +
          "                                </td>\n" +
          "                                <td>" +
          nodo.updated_at +
          "                                </td>\n" +
          '                                <td class="text-center">\n' +
          '                                    <ul class="icons-list">\n' +
          '                                        <li class="dropdown">\n' +
          '                                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-menu9"></i></a>\n' +
          '                                            <ul class="dropdown-menu dropdown-menu-right">\n' +
          '                                                <li><a href="http://localhost/tesis_frontend/nodo.html?id=' +
          nodo.id +
          '"><i class="icon-eye"></i> Ver</a></li>\n' +
          '                                                <li class="divider"></li>\n' +
          '                                                <li><a href="#"><i class="icon-pencil7"></i> Editar</a></li>\n' +
          '                                                <li><a href="#"><i class="icon-cross2"></i> Eliminar</a></li>\n' +
          "                                            </ul>\n" +
          "                                        </li>\n" +
          "                                    </ul>\n" +
          "                                </td>\n" +
          "                            </tr>"
      );
      // $('#gateway_name').text(gateway.nombre);
    });
  },
  error: function(data) {
    var errors = data.responseJSON;
    // swal("Oops...", "Algo salio mal!", "error");
    $.each(errors, function(key, val) {
      console.log(val);
    });
  }
});
</script>



</body>
</html>